@use "../theme/palette";
@use "../tools/active" as *;
@use "../patterns/icon-button" as *;
@use "../tools/list-reset" as *;

.task-status {
	position: relative;
}

.task-status__indicator:not(.task-status__indicator--readonly) {
	@include icon-button;
}

.task-status__indicator--readonly {
	@include icon-button(false);
}

.task-status__options {
	@include list-reset;
	position: absolute;
	bottom: 100%;
	margin-bottom: 0.5rem;
	z-index: 2;
	padding: 0.5em;

	display: flex;
	gap: 0.5rem;

	@include palette.secondary;
	background-color: transparent;
	&::before {
		content: "";
		position: absolute;
		z-index: -1;
		inset: 0;
		background-color: var(--bg);
		opacity: 0.5;
	}
	backdrop-filter: blur(2px);
	border: 1px solid var(--accent);
	box-shadow: 0 0 5px color-mix(in sRGB, var(--accent), white);

	animation: 0.2s appearScreen, ease-in-out;
}

.task-status__optgroup {
	& + & {
		padding-inline-start: 0.5rem;
		border-inline-start: 1px solid var(--accent);
	}
}

.task-status__optgroup-list {
	@include list-reset;
	display: flex;
	gap: 0.5rem;
}

.task-status__option {}

.task-status__option-button {
	@include icon-button;
	@include palette.tertiary(true);
}
