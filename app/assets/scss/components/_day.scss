@use "../scaffolding/theme/typography";
@use "../scaffolding/theme/palette";
@use "../scaffolding/tools/rem" as *;

.day {
	margin: 2rem 0;

	isolation: isolate;

	&:not([open]) {
		content-visibility: auto;
		// Padding plus heading size
		contain-intrinsic-height: 2rem + rem(28px) * 1.5;
	}
}

.day__summary {
	@include palette.primary;

	list-style: none;

	position: sticky;
	z-index: 2;
	top: -1px;
	padding-top: 1px;
	margin-inline: -1px;
	padding-inline: 1px;
}

.day__body {
	display: grid;
	justify-items: start;
	grid-template-columns: minmax(0, 1fr);
	gap: 1rem;
}

.day__heading {
	@include typography.heading-3;

	width: 100%;

	padding-bottom: 0.2em;

	// TODO: Should this be a mixin?
	summary > & {
		display: inline-block;

		&::after {
			content: "";
			display: inline-block;
			margin-left: 1ch;
			vertical-align: middle;

			border: 0.25em solid transparent;

			transition: transform 0.1s ease-in-out;
		}
		details > &::after {
			border-left-color: currentColor;
			border-right-width: 0;
		}
		details[open] > &::after {
			transform: rotate(90deg);
		}
	}
}
